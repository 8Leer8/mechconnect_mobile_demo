<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop Owner Sign Up - MechConnect</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fontsource/geist-sans@5.0.1/index.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Geist Sans', 'system-ui', 'sans-serif'],
                    },
                    fontSize: {
                        'xs': ['0.75rem', { lineHeight: '1rem' }],
                        'sm': ['0.875rem', { lineHeight: '1.25rem' }],
                        'base': ['1rem', { lineHeight: '1.5rem' }],
                        'lg': ['1.125rem', { lineHeight: '1.75rem' }],
                        'xl': ['1.25rem', { lineHeight: '1.75rem' }],
                    },
                    colors: {
                        orange: {
                            50: '#fff7ed',
                            100: '#ffedd5',
                            200: '#fed7aa',
                            300: '#fdba74',
                            400: '#fb923c',
                            500: '#f97316',
                            600: '#ea580c',
                            700: '#c2410c',
                            800: '#9a3412',
                            900: '#7c2d12',
                        }
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-in-out',
                        'slide-in': 'slideIn 0.5s ease-in-out',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        },
                        slideIn: {
                            '0%': { transform: 'translateX(20px)', opacity: '0' },
                            '100%': { transform: 'translateX(0)', opacity: '1' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        /* Custom Checkbox */
        .custom-checkbox {
            appearance: none;
            -webkit-appearance: none;
            width: 1.125rem;
            height: 1.125rem;
            border: 2px solid #d1d5db;
            border-radius: 0.375rem;
            background: white;
            cursor: pointer;
            position: relative;
            transition: all 0.2s ease;
        }

        .custom-checkbox:checked {
            background: #f97316;
            border-color: #f97316;
        }

        .custom-checkbox:checked::after {
            content: "✓";
            position: absolute;
            color: white;
            font-size: 0.875rem;
            font-weight: bold;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .custom-checkbox:hover {
            border-color: #9ca3af;
        }

        .custom-checkbox:focus {
            outline: none;
            box-shadow: 0 0 0 2px #f97316, 0 0 0 3px rgba(249, 115, 22, 0.1);
        }

        /* OTP Input Styles */
        .otp-input {
            width: 2.5rem;
            height: 2.5rem;
            border: 2px solid #d1d5db;
            border-radius: 0.5rem;
            background: white;
            text-align: center;
            font-size: 1.25rem;
            font-weight: 600;
            transition: all 0.2s ease;
        }

        .otp-input:focus {
            border-color: #f97316;
            outline: none;
            box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.1);
        }

        .otp-input.filled {
            border-color: #f97316;
            background: #fff7ed;
        }

        /* File Upload Styles */
        .file-upload-area {
            border: 2px dashed #d1d5db;
            transition: all 0.3s ease;
        }

        .file-upload-area:hover {
            border-color: #f97316;
            background: #fff7ed;
        }

        .file-upload-area.dragover {
            border-color: #f97316;
            background: #fff7ed;
        }

        /* Progress Steps */
        .step-item {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            flex: 1;
        }

        .step-item:not(:first-child):before {
            content: '';
            background: #d1d5db;
            position: absolute;
            width: 100%;
            height: 2px;
            top: 12px;
            right: 50%;
            z-index: -1;
        }

        .step-item.active:not(:first-child):before,
        .step-item.completed:not(:first-child):before {
            background: #f97316;
        }

        .step-icon {
            width: 1.75rem;
            height: 1.75rem;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: #d1d5db;
            color: white;
            font-size: 0.875rem;
            font-weight: 500;
            position: relative;
            z-index: 10;
        }

        .step-item.active .step-icon {
            background: #f97316;
        }

        .step-item.completed .step-icon {
            background: #f97316;
        }

        .step-item.completed .step-icon:after {
            content: "✓";
            color: white;
            font-size: 0.875rem;
        }

        /* Hide steps on mobile, show progress bar */
        @media (max-width: 640px) {
            .step-item:not(:first-child):before {
                display: none;
            }
            
            .step-item {
                display: none;
            }
            
            .step-item.active {
                display: flex;
            }

            .otp-input {
                width: 3rem;
                height: 3rem;
            }
        }

        /* Responsive adjustments */
        @media (min-width: 641px) {
            .otp-input {
                width: 3.5rem;
                height: 3.5rem;
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen font-sans">
    <div class="min-h-screen flex items-center justify-center p-4 sm:p-6 lg:p-8">
        <div class="w-full max-w-md space-y-6 sm:space-y-8">
            <!-- Header -->
            <div class="text-center space-y-3 sm:space-y-4">
                <div class="mx-auto w-16 h-16 sm:w-14 sm:h-14 flex items-center justify-center">
                    <img src="../../client_lak/imgs/mechlogo.png" alt="MechConnect Logo" class="mx-auto w-18 h-auto">
                </div>
                
                <div class="space-y-2">
                    <h1 class="text-2xl sm:text-3xl font-bold text-gray-900">Shop Owner Registration</h1>
                    <p class="text-sm sm:text-base text-gray-600 px-4 sm:px-0">
                        Register your automotive shop with MechConnect
                    </p>
                </div>
            </div>

            <!-- Progress Steps - Hidden on mobile, visible on tablet+ -->
            <div class="hidden sm:block">
                <div class="flex justify-between mb-8">
                    <div class="step-item active">
                        <div class="step-icon">1</div>
                        <div class="text-xs mt-2 text-orange-600 font-medium">Basic Info</div>
                    </div>
                    <div class="step-item">
                        <div class="step-icon">2</div>
                        <div class="text-xs mt-2 text-gray-500">Shop Details</div>
                    </div>
                    <div class="step-item">
                        <div class="step-icon">3</div>
                        <div class="text-xs mt-2 text-gray-500">Business Info</div>
                    </div>
                    <div class="step-item">
                        <div class="step-icon">4</div>
                        <div class="text-xs mt-2 text-gray-500">Documents</div>
                    </div>
                    <div class="step-item">
                        <div class="step-icon">5</div>
                        <div class="text-xs mt-2 text-gray-500">Verify</div>
                    </div>
                    <div class="step-item">
                        <div class="step-icon">6</div>
                        <div class="text-xs mt-2 text-gray-500">Complete</div>
                    </div>
                </div>
            </div>

            <!-- Mobile Progress Bar -->
            <div class="sm:hidden bg-gray-200 rounded-full h-2">
                <div class="bg-orange-500 h-2 rounded-full transition-all duration-500" style="width: 16.67%" id="mobileProgress"></div>
            </div>

            <!-- Signup Form -->
            <div class="bg-white p-6 sm:p-8 rounded-2xl shadow-sm border border-gray-100">
                <form id="signupForm" class="space-y-6">
                    <!-- Step 1: Shop Owner Basic Info -->
                    <div id="step1" class="step-content animate-fade-in">
                        <div class="space-y-4">
                            <h2 class="text-lg font-semibold text-gray-900 flex items-center gap-2">
                                <span class="material-icons-round text-orange-500 text-xl">person</span>
                                Basic Information
                            </h2>
                            
                            <div class="space-y-2">
                                <label class="block text-sm font-medium text-gray-700">Full Name</label>
                                <input 
                                    type="text" 
                                    name="fullName"
                                    class="w-full px-4 py-3 border border-gray-300 rounded-lg text-base sm:text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none transition"
                                    placeholder="Enter your full name"
                                    required
                                >
                                <span class="text-red-500 text-xs hidden" id="fullNameError"></span>
                            </div>

                            <div class="space-y-2">
                                <label class="block text-sm font-medium text-gray-700">Email Address</label>
                                <div class="relative">
                                    <span class="material-icons-round absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-lg">email</span>
                                    <input 
                                        type="email" 
                                        name="email"
                                        class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg text-base sm:text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none transition"
                                        placeholder="owner@example.com"
                                        required
                                    >
                                </div>
                                <span class="text-red-500 text-xs hidden" id="emailError"></span>
                            </div>

                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                <div class="space-y-2">
                                    <label class="block text-sm font-medium text-gray-700">Password</label>
                                    <div class="relative">
                                        <span class="material-icons-round absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-lg">lock</span>
                                        <input 
                                            type="password" 
                                            name="password"
                                            class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg text-base sm:text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none transition"
                                            placeholder="••••••••"
                                            required
                                        >
                                    </div>
                                    <span class="text-red-500 text-xs hidden" id="passwordError"></span>
                                </div>
                                <div class="space-y-2">
                                    <label class="block text-sm font-medium text-gray-700">Confirm Password</label>
                                    <div class="relative">
                                        <span class="material-icons-round absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-lg">lock</span>
                                        <input 
                                            type="password" 
                                            name="confirmPassword"
                                            class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg text-base sm:text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none transition"
                                            placeholder="••••••••"
                                            required
                                        >
                                    </div>
                                    <span class="text-red-500 text-xs hidden" id="confirmPasswordError"></span>
                                </div>
                            </div>
                        </div>

                        <div class="flex justify-end mt-6">
                            <button type="button" onclick="nextStep(2)" class="bg-orange-500 text-white px-6 py-3 rounded-lg text-sm font-medium flex items-center gap-2 hover:bg-orange-600 transition-colors">
                                Next
                                <span class="material-icons-round text-lg">arrow_forward</span>
                            </button>
                        </div>
                    </div>

                    <!-- Step 2: Shop Details -->
                    <div id="step2" class="step-content hidden animate-fade-in">
                        <div class="space-y-4">
                            <h2 class="text-lg font-semibold text-gray-900 flex items-center gap-2">
                                <span class="material-icons-round text-orange-500 text-xl">storefront</span>
                                Shop Details
                            </h2>

                            <div class="space-y-2">
                                <label class="block text-sm font-medium text-gray-700">Shop Name</label>
                                <input 
                                    type="text" 
                                    name="shopName"
                                    class="w-full px-4 py-3 border border-gray-300 rounded-lg text-base sm:text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none transition"
                                    placeholder="Enter your shop name"
                                    required
                                >
                                <span class="text-red-500 text-xs hidden" id="shopNameError"></span>
                            </div>

                            <div class="space-y-2">
                                <label class="block text-sm font-medium text-gray-700">Shop Address</label>
                                <div class="relative">
                                    <span class="material-icons-round absolute left-3 top-3 text-gray-400 text-lg">location_on</span>
                                    <textarea 
                                        name="shopAddress"
                                        rows="3"
                                        class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg text-base sm:text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none transition resize-none"
                                        placeholder="Enter complete shop address"
                                        required
                                    ></textarea>
                                </div>
                                <span class="text-red-500 text-xs hidden" id="shopAddressError"></span>
                            </div>

                            <div class="space-y-2">
                                <label class="block text-sm font-medium text-gray-700">Contact Number</label>
                                <div class="relative">
                                    <span class="material-icons-round absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-lg">phone</span>
                                    <input 
                                        type="tel" 
                                        name="contactNumber"
                                        class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg text-base sm:text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none transition"
                                        placeholder="09XXXXXXXXX"
                                        required
                                    >
                                </div>
                                <span class="text-red-500 text-xs hidden" id="contactNumberError"></span>
                            </div>
                        </div>

                        <div class="flex justify-between mt-6 gap-3">
                            <button type="button" onclick="prevStep(1)" class="flex-1 border border-gray-300 text-gray-700 px-4 py-2.5 rounded-lg text-sm font-medium flex items-center justify-center gap-2 hover:bg-gray-50 transition-colors">
                                <span class="material-icons-round text-base">arrow_back</span>
                                Back
                            </button>
                            <button type="button" onclick="nextStep(3)" class="flex-1 bg-orange-500 text-white px-4 py-2.5 rounded-lg text-sm font-medium flex items-center justify-center gap-2 hover:bg-orange-600 transition-colors">
                                Next
                                <span class="material-icons-round text-base">arrow_forward</span>
                            </button>
                        </div>
                    </div>

                    <!-- Step 3: Business Information -->
                    <div id="step3" class="step-content hidden animate-fade-in">
                        <div class="space-y-4">
                            <h2 class="text-lg font-semibold text-gray-900 flex items-center gap-2">
                                <span class="material-icons-round text-orange-500 text-xl">business</span>
                                Business Information
                            </h2>

                            <div class="space-y-2">
                                <label class="block text-sm font-medium text-gray-700">Business Permit Number</label>
                                <div class="relative">
                                    <span class="material-icons-round absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-lg">badge</span>
                                    <input 
                                        type="text" 
                                        name="businessPermit"
                                        class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg text-base sm:text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none transition"
                                        placeholder="Enter business permit number"
                                        required
                                    >
                                </div>
                                <span class="text-red-500 text-xs hidden" id="businessPermitError"></span>
                            </div>

                            <div class="space-y-2">
                                <label class="block text-sm font-medium text-gray-700">Years in Operation</label>
                                <div class="relative">
                                    <span class="material-icons-round absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-lg">history</span>
                                    <select 
                                        name="yearsInOperation"
                                        class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg text-base sm:text-sm focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none transition appearance-none bg-white"
                                        required
                                    >
                                        <option value="">Select years in operation</option>
                                        <option value="less-than-1">Less than 1 year</option>
                                        <option value="1-2">1-2 years</option>
                                        <option value="3-5">3-5 years</option>
                                        <option value="6-10">6-10 years</option>
                                        <option value="11-15">11-15 years</option>
                                        <option value="more-than-15">More than 15 years</option>
                                    </select>
                                </div>
                                <span class="text-red-500 text-xs hidden" id="yearsInOperationError"></span>
                            </div>

                            <div class="space-y-2">
                                <label class="block text-sm font-medium text-gray-700">Service Categories</label>
                                <p class="text-xs text-gray-500">Select all services your shop offers</p>
                                <div class="border border-gray-300 rounded-lg p-4 bg-white max-h-48 overflow-y-auto">
                                    <div class="grid grid-cols-1 gap-3">
                                        <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                            <input type="checkbox" name="serviceCategory" value="general-repair" class="custom-checkbox">
                                            <span class="text-sm text-gray-700">General Automotive Repair</span>
                                        </label>
                                        <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                            <input type="checkbox" name="serviceCategory" value="engine-repair" class="custom-checkbox">
                                            <span class="text-sm text-gray-700">Engine Repair & Maintenance</span>
                                        </label>
                                        <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                            <input type="checkbox" name="serviceCategory" value="brake-service" class="custom-checkbox">
                                            <span class="text-sm text-gray-700">Brake Service</span>
                                        </label>
                                        <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                            <input type="checkbox" name="serviceCategory" value="transmission" class="custom-checkbox">
                                            <span class="text-sm text-gray-700">Transmission Repair</span>
                                        </label>
                                        <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                            <input type="checkbox" name="serviceCategory" value="electrical" class="custom-checkbox">
                                            <span class="text-sm text-gray-700">Electrical Systems</span>
                                        </label>
                                        <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                            <input type="checkbox" name="serviceCategory" value="air-conditioning" class="custom-checkbox">
                                            <span class="text-sm text-gray-700">Air Conditioning Service</span>
                                        </label>
                                        <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                            <input type="checkbox" name="serviceCategory" value="tire-service" class="custom-checkbox">
                                            <span class="text-sm text-gray-700">Tire Service & Alignment</span>
                                        </label>
                                        <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                            <input type="checkbox" name="serviceCategory" value="body-work" class="custom-checkbox">
                                            <span class="text-sm text-gray-700">Body Work & Painting</span>
                                        </label>
                                        <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                            <input type="checkbox" name="serviceCategory" value="oil-change" class="custom-checkbox">
                                            <span class="text-sm text-gray-700">Oil Change & Quick Lube</span>
                                        </label>
                                        <label class="flex items-center space-x-3 cursor-pointer hover:bg-gray-50 p-2 rounded">
                                            <input type="checkbox" name="serviceCategory" value="diagnostic" class="custom-checkbox">
                                            <span class="text-sm text-gray-700">Diagnostic Services</span>
                                        </label>
                                    </div>
                                </div>
                                <span class="text-red-500 text-xs hidden" id="serviceCategoryError"></span>
                            </div>
                        </div>

                        <div class="flex justify-between mt-6 gap-3">
                            <button type="button" onclick="prevStep(2)" class="flex-1 border border-gray-300 text-gray-700 px-4 py-2.5 rounded-lg text-sm font-medium flex items-center justify-center gap-2 hover:bg-gray-50 transition-colors">
                                <span class="material-icons-round text-base">arrow_back</span>
                                Back
                            </button>
                            <button type="button" onclick="nextStep(4)" class="flex-1 bg-orange-500 text-white px-4 py-2.5 rounded-lg text-sm font-medium flex items-center justify-center gap-2 hover:bg-orange-600 transition-colors">
                                Next
                                <span class="material-icons-round text-base">arrow_forward</span>
                            </button>
                        </div>
                    </div>

                    <!-- Step 4: Upload Documents -->
                    <div id="step4" class="step-content hidden animate-fade-in">
                        <div class="space-y-4">
                            <h2 class="text-lg font-semibold text-gray-900 flex items-center gap-2">
                                <span class="material-icons-round text-orange-500 text-xl">upload_file</span>
                                Upload Documents
                            </h2>

                            <div class="space-y-2">
                                <label class="block text-sm font-medium text-gray-700">Shop Photo/Logo</label>
                                <div class="file-upload-area border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-orange-500 hover:bg-orange-50 transition-colors">
                                    <input type="file" id="shopPhotoInput" name="shopPhoto" accept="image/*" class="hidden" onchange="handleFileUpload(this, 'shopPhotoPreview')">
                                    <div id="shopPhotoDefault" class="space-y-2">
                                        <span class="material-icons-round text-gray-400 text-3xl">add_photo_alternate</span>
                                        <div class="text-sm text-gray-600">
                                            <p class="font-medium">Click to upload shop photo or logo</p>
                                            <p class="text-xs">PNG, JPG, JPEG up to 5MB</p>
                                        </div>
                                    </div>
                                    <div id="shopPhotoPreview" class="hidden">
                                        <div class="flex items-center justify-center space-x-2 text-sm text-green-600">
                                            <span class="material-icons-round">check_circle</span>
                                            <span id="shopPhotoName">File uploaded</span>
                                        </div>
                                    </div>
                                </div>
                                <span class="text-red-500 text-xs hidden" id="shopPhotoError"></span>
                            </div>

                            <div class="space-y-2">
                                <label class="block text-sm font-medium text-gray-700">Proof of Legitimacy</label>
                                <p class="text-xs text-gray-500">Business permit, DTI registration, or other business documents</p>
                                <div class="file-upload-area border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-orange-500 hover:bg-orange-50 transition-colors">
                                    <input type="file" id="proofInput" name="proof" accept="image/*,.pdf" class="hidden" onchange="handleFileUpload(this, 'proofPreview')">
                                    <div id="proofDefault" class="space-y-2">
                                        <span class="material-icons-round text-gray-400 text-3xl">description</span>
                                        <div class="text-sm text-gray-600">
                                            <p class="font-medium">Click to upload business documents</p>
                                            <p class="text-xs">PDF, PNG, JPG, JPEG up to 10MB</p>
                                        </div>
                                    </div>
                                    <div id="proofPreview" class="hidden">
                                        <div class="flex items-center justify-center space-x-2 text-sm text-green-600">
                                            <span class="material-icons-round">check_circle</span>
                                            <span id="proofName">File uploaded</span>
                                        </div>
                                    </div>
                                </div>
                                <span class="text-red-500 text-xs hidden" id="proofError"></span>
                            </div>
                        </div>

                        <div class="flex justify-between mt-6 gap-3">
                            <button type="button" onclick="prevStep(3)" class="flex-1 border border-gray-300 text-gray-700 px-4 py-2.5 rounded-lg text-sm font-medium flex items-center justify-center gap-2 hover:bg-gray-50 transition-colors">
                                <span class="material-icons-round text-base">arrow_back</span>
                                Back
                            </button>
                            <button type="button" onclick="nextStep(5)" class="flex-1 bg-orange-500 text-white px-4 py-2.5 rounded-lg text-sm font-medium flex items-center justify-center gap-2 hover:bg-orange-600 transition-colors">
                                Next
                                <span class="material-icons-round text-base">arrow_forward</span>
                            </button>
                        </div>
                    </div>

                    <!-- Step 5: Email Verification -->
                    <div id="step5" class="step-content hidden animate-fade-in">
                        <div class="space-y-4">
                            <h2 class="text-lg font-semibold text-gray-900 flex items-center gap-2">
                                <span class="material-icons-round text-orange-500 text-xl">verified</span>
                                Email Verification
                            </h2>

                            <div class="bg-orange-50 border border-orange-200 rounded-lg p-4">
                                <p class="text-sm text-orange-800">
                                    We've sent a 6-digit verification code to <strong id="verificationEmail">your email</strong>. Please enter the code below to verify your email address.
                                </p>
                            </div>

                            <div class="space-y-3">
                                <label class="block text-sm font-medium text-gray-700 text-center">Enter Verification Code</label>
                                <div class="flex justify-center space-x-3">
                                    <input type="text" id="otp1" class="otp-input" maxlength="1" oninput="handleOTPInput(this, 1)" onkeydown="handleBackspace(this, event)">
                                    <input type="text" id="otp2" class="otp-input" maxlength="1" oninput="handleOTPInput(this, 2)" onkeydown="handleBackspace(this, event)">
                                    <input type="text" id="otp3" class="otp-input" maxlength="1" oninput="handleOTPInput(this, 3)" onkeydown="handleBackspace(this, event)">
                                    <input type="text" id="otp4" class="otp-input" maxlength="1" oninput="handleOTPInput(this, 4)" onkeydown="handleBackspace(this, event)">
                                    <input type="text" id="otp5" class="otp-input" maxlength="1" oninput="handleOTPInput(this, 5)" onkeydown="handleBackspace(this, event)">
                                    <input type="text" id="otp6" class="otp-input" maxlength="1" oninput="handleOTPInput(this, 6)" onkeydown="handleBackspace(this, event)">
                                </div>
                            </div>

                            <div class="text-center">
                                <button type="button" class="text-sm text-orange-600 hover:text-orange-500 font-medium">
                                    Didn't receive the code? Resend
                                </button>
                            </div>
                        </div>

                        <div class="flex justify-between mt-6 gap-3">
                            <button type="button" onclick="prevStep(4)" class="flex-1 border border-gray-300 text-gray-700 px-4 py-2.5 rounded-lg text-sm font-medium flex items-center justify-center gap-2 hover:bg-gray-50 transition-colors">
                                <span class="material-icons-round text-base">arrow_back</span>
                                Back
                            </button>
                            <button type="button" onclick="nextStep(6)" class="flex-1 bg-orange-500 text-white px-4 py-2.5 rounded-lg text-sm font-medium flex items-center justify-center gap-2 hover:bg-orange-600 transition-colors">
                                Verify
                                <span class="material-icons-round text-base">verified</span>
                            </button>
                        </div>
                    </div>

                    <!-- Step 6: Application Submitted -->
                    <div id="step6" class="step-content hidden animate-fade-in">
                        <div class="text-center space-y-6">
                            <div class="space-y-4">
                                <div class="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto">
                                    <span class="material-icons-round text-green-600 text-4xl">check_circle</span>
                                </div>
                                <h2 class="text-xl font-bold text-gray-900">Application Submitted!</h2>
                            </div>
                            
                            <div class="bg-orange-50 border border-orange-200 rounded-lg p-6">
                                <div class="space-y-3">
                                    <div class="flex items-start space-x-3">
                                        <span class="material-icons-round text-orange-600 text-2xl mt-1">info</span>
                                        <div class="text-left">
                                            <h3 class="font-semibold text-orange-800 mb-2">What happens next?</h3>
                                            <p class="text-sm text-orange-800">
                                                <strong>Your application has been submitted for verification.</strong>
                                            </p>
                                            <p class="text-sm text-orange-700 mt-2">
                                                Please wait 1–2 business days for admin approval. We'll notify you via email once your shop account is approved and you can start accepting bookings.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="space-y-3">
                                <button type="button" onclick="window.location.href='../login.html'" class="w-full bg-orange-500 text-white px-6 py-3 rounded-lg text-sm font-medium flex items-center justify-center gap-2 hover:bg-orange-600 transition-colors">
                                    <span class="material-icons-round text-lg">login</span>
                                    Go to Login
                                </button>
                                <button type="button" onclick="window.location.href='choose_signup.html'" class="w-full border border-gray-300 text-gray-700 px-6 py-3 rounded-lg text-sm font-medium flex items-center justify-center gap-2 hover:bg-gray-50 transition-colors">
                                    <span class="material-icons-round text-lg">arrow_back</span>
                                    Back to Sign Up Options
                                </button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>

            <!-- Sign In Link -->
            <div class="text-center">
                <p class="text-sm text-gray-600">
                    Already have an account?
                    <a href="../login.html" class="font-medium text-orange-600 hover:text-orange-500 transition-colors ml-1">
                        Login
                    </a>
                </p>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 1;
        const totalSteps = 6;

        function nextStep(step) {
            // Validate current step before proceeding
            if (!validateStep(currentStep)) {
                return;
            }

            document.getElementById(`step${currentStep}`).classList.add('hidden');
            document.getElementById(`step${step}`).classList.remove('hidden');
            currentStep = step;
            updateProgress();
            
            // Update verification email when reaching step 5
            if (step === 5) {
                const email = document.querySelector('input[name="email"]').value;
                document.getElementById('verificationEmail').textContent = email;
            }
        }

        function prevStep(step) {
            document.getElementById(`step${currentStep}`).classList.add('hidden');
            document.getElementById(`step${step}`).classList.remove('hidden');
            currentStep = step;
            updateProgress();
        }

        function updateProgress() {
            const progressPercentage = (currentStep / totalSteps) * 100;
            document.getElementById('mobileProgress').style.width = `${progressPercentage}%`;
            
            // Update desktop progress indicators
            const stepItems = document.querySelectorAll('.step-item');
            stepItems.forEach((item, index) => {
                const stepNumber = index + 1;
                if (stepNumber < currentStep) {
                    item.classList.add('completed');
                    item.classList.remove('active');
                } else if (stepNumber === currentStep) {
                    item.classList.add('active');
                    item.classList.remove('completed');
                } else {
                    item.classList.remove('active', 'completed');
                }
            });
        }

        function validateStep(step) {
            // Clear previous errors
            clearErrors();
            
            const stepElement = document.getElementById(`step${step}`);
            let isValid = true;
            
            if (step === 1) {
                // Validate Basic Information
                const fullName = stepElement.querySelector('input[name="fullName"]');
                const email = stepElement.querySelector('input[name="email"]');
                const password = stepElement.querySelector('input[name="password"]');
                const confirmPassword = stepElement.querySelector('input[name="confirmPassword"]');
                
                if (!fullName.value.trim()) {
                    showError('fullNameError', 'Full name is required');
                    isValid = false;
                }
                
                if (!email.value.trim()) {
                    showError('emailError', 'Email is required');
                    isValid = false;
                } else if (!isValidEmail(email.value)) {
                    showError('emailError', 'Please enter a valid email address');
                    isValid = false;
                }
                
                if (!password.value.trim()) {
                    showError('passwordError', 'Password is required');
                    isValid = false;
                } else if (password.value.length < 8) {
                    showError('passwordError', 'Password must be at least 8 characters');
                    isValid = false;
                }
                
                if (!confirmPassword.value.trim()) {
                    showError('confirmPasswordError', 'Confirm password is required');
                    isValid = false;
                } else if (password.value !== confirmPassword.value) {
                    showError('confirmPasswordError', 'Passwords do not match');
                    isValid = false;
                }
            }
            
            if (step === 2) {
                // Validate Shop Details
                const shopName = stepElement.querySelector('input[name="shopName"]');
                const shopAddress = stepElement.querySelector('textarea[name="shopAddress"]');
                const contactNumber = stepElement.querySelector('input[name="contactNumber"]');
                
                if (!shopName.value.trim()) {
                    showError('shopNameError', 'Shop name is required');
                    isValid = false;
                }
                
                if (!shopAddress.value.trim()) {
                    showError('shopAddressError', 'Shop address is required');
                    isValid = false;
                }
                
                if (!contactNumber.value.trim()) {
                    showError('contactNumberError', 'Contact number is required');
                    isValid = false;
                } else if (!isValidPhone(contactNumber.value)) {
                    showError('contactNumberError', 'Please enter a valid 11-digit Philippines phone number (09xxxxxxxxx)');
                    isValid = false;
                }
            }
            
            if (step === 3) {
                // Validate Business Information
                const businessPermit = stepElement.querySelector('input[name="businessPermit"]');
                const yearsInOperation = stepElement.querySelector('select[name="yearsInOperation"]');
                const serviceCategoryCheckboxes = stepElement.querySelectorAll('input[name="serviceCategory"]:checked');
                
                if (!businessPermit.value.trim()) {
                    showError('businessPermitError', 'Business permit number is required');
                    isValid = false;
                }
                
                if (!yearsInOperation.value) {
                    showError('yearsInOperationError', 'Years in operation is required');
                    isValid = false;
                }
                
                if (serviceCategoryCheckboxes.length === 0) {
                    showError('serviceCategoryError', 'Please select at least one service category');
                    isValid = false;
                }
            }
            
            if (step === 4) {
                // Validate file uploads (optional for demonstration)
                // In a real application, you might want to require these files
            }
            
            if (step === 5) {
                // Validate OTP
                const otpInputs = stepElement.querySelectorAll('.otp-input');
                let otpComplete = true;
                
                otpInputs.forEach(input => {
                    if (!input.value.trim()) {
                        otpComplete = false;
                    }
                });
                
                if (!otpComplete) {
                    alert('Please enter the complete 6-digit verification code');
                    isValid = false;
                }
            }
            
            return isValid;
        }

        function showError(errorId, message) {
            const errorElement = document.getElementById(errorId);
            if (errorElement) {
                errorElement.textContent = message;
                errorElement.classList.remove('hidden');
            }
        }

        function clearErrors() {
            const errorElements = document.querySelectorAll('[id$="Error"]');
            errorElements.forEach(element => {
                element.classList.add('hidden');
                element.textContent = '';
            });
        }

        function isValidEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }

        function isValidPhone(phone) {
            // Philippines phone number format: 09XXXXXXXXX (11 digits starting with 09)
            const phoneRegex = /^09\d{9}$/;
            return phoneRegex.test(phone.replace(/\s+/g, ''));
        }

        // OTP Input handling
        function handleOTPInput(input, currentIndex) {
            const nextIndex = currentIndex + 1;
            
            // Only allow numbers
            if (!/^\d$/.test(input.value)) {
                input.value = '';
                return;
            }
            
            const nextInput = document.getElementById(`otp${nextIndex}`);
            if (nextInput) {
                nextInput.focus();
            }
            
            // Update filled state
            if (input.value.length === 1) {
                input.classList.add('filled');
            } else {
                input.classList.remove('filled');
            }
        }
        
        function handleBackspace(input, event) {
            if (event.key === 'Backspace' && !input.value) {
                const currentIndex = parseInt(input.id.replace('otp', ''));
                if (currentIndex > 1) {
                    const prevInput = document.getElementById(`otp${currentIndex - 1}`);
                    if (prevInput) {
                        prevInput.focus();
                    }
                }
            }
        }

        // File upload handling
        function handleFileUpload(input, previewId) {
            const file = input.files[0];
            if (file) {
                const defaultElement = input.parentElement.querySelector('[id$="Default"]');
                const previewElement = document.getElementById(previewId);
                const nameElement = document.getElementById(previewId.replace('Preview', 'Name'));
                
                if (defaultElement && previewElement && nameElement) {
                    defaultElement.classList.add('hidden');
                    previewElement.classList.remove('hidden');
                    nameElement.textContent = file.name;
                }
            }
        }

        // File upload click handlers
        document.addEventListener('DOMContentLoaded', function() {
            // Shop photo upload area click
            const shopPhotoArea = document.getElementById('shopPhotoInput').parentElement;
            shopPhotoArea.addEventListener('click', function() {
                document.getElementById('shopPhotoInput').click();
            });
            
            // Proof upload area click
            const proofArea = document.getElementById('proofInput').parentElement;
            proofArea.addEventListener('click', function() {
                document.getElementById('proofInput').click();
            });
            
            // Drag and drop functionality
            [shopPhotoArea, proofArea].forEach(area => {
                area.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    this.classList.add('dragover');
                });
                
                area.addEventListener('dragleave', function(e) {
                    e.preventDefault();
                    this.classList.remove('dragover');
                });
                
                area.addEventListener('drop', function(e) {
                    e.preventDefault();
                    this.classList.remove('dragover');
                    
                    const files = e.dataTransfer.files;
                    if (files.length > 0) {
                        const input = this.querySelector('input[type="file"]');
                        input.files = files;
                        const previewId = input.getAttribute('onchange').match(/handleFileUpload\(this, '([^']+)'/)[1];
                        handleFileUpload(input, previewId);
                    }
                });
            });
        });

        // Form submission
        document.getElementById('signupForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // This form doesn't actually submit to step 6 via submit
            // Step 6 is reached through the nextStep function
        });

        // Initialize progress
        updateProgress();
    </script>
</body>
</html>