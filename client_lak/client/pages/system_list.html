<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AutoCare Pro - Select Provider</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fontsource/geist-sans@5.0.1/index.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Geist Sans', 'system-ui', 'sans-serif'],
                    },
                    fontSize: {
                        'xs': ['0.75rem', { lineHeight: '1rem' }],
                        'sm': ['0.875rem', { lineHeight: '1.25rem' }],
                        'base': ['1rem', { lineHeight: '1.5rem' }],
                        'lg': ['1.125rem', { lineHeight: '1.75rem' }],
                    },
                    colors: {
                        orange: {
                            500: '#f97316',
                            600: '#ea580c',
                        }
                    }
                }
            }
        }
    </script>
    <style>
        .provider-card {
            transition: all 0.3s ease;
        }
        
        .provider-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .tab-active {
            background-color: #f97316;
            color: white;
        }
        
        .tab-inactive {
            background-color: #f3f4f6;
            color: #6b7280;
        }
        
        .mobile-tab {
            flex: 1;
            min-width: 0;
            padding: 12px 8px;
            border-radius: 8px;
            margin: 2px;
            font-size: 0.75rem;
            transition: all 0.2s ease;
            cursor: pointer;
        }
        
        .mobile-tab-content {
            display: none;
        }
        
        .mobile-tab-content.active {
            display: block;
        }
        
        .status-badge {
            font-size: 0.7rem;
        }
        
        .selected-provider {
            border-color: #f97316;
            background-color: #fffbeb;
        }
        
        .custom-checkbox {
            appearance: none;
            -webkit-appearance: none;
            width: 1.25rem;
            height: 1.25rem;
            border: 2px solid #d1d5db;
            border-radius: 0.375rem;
            background: white;
            cursor: pointer;
            position: relative;
            transition: all 0.2s ease;
        }

        .custom-checkbox:checked {
            background: #f97316;
            border-color: #f97316;
        }

        .custom-checkbox:checked::after {
            content: "✓";
            position: absolute;
            color: white;
            font-size: 0.875rem;
            font-weight: bold;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen font-sans">
    <!-- Header with Back Button Only -->
    <header class="bg-white border-b border-gray-200 sticky top-0 z-10">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <!-- Back Button -->
                <button onclick="window.history.back()" class="flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-all duration-200 group">
                    <span class="material-icons-round text-lg group-hover:-translate-x-0.5 transition-transform">arrow_back</span>
                    <span class="text-sm font-medium hidden sm:inline">Back</span>
                </button>
                
                <!-- Page Title -->
                <div class="flex items-center gap-3">
                    <h1 class="text-lg font-semibold text-gray-900">Select Providers</h1>
                </div>
                
                <!-- Selected Count -->
                <div class="text-sm text-gray-600">
                    <span id="selected-count">0</span> selected
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-6xl mx-auto px-4 py-6">
        <!-- Request Summary -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6">
            <h2 class="text-xl font-bold text-gray-900 mb-4">Your Custom Request</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="bg-orange-50 rounded-lg p-4 border border-orange-200">
                    <div class="text-sm font-medium text-orange-900 mb-1">Service Needed</div>
                    <div class="text-base text-orange-700">Brake System Repair</div>
                </div>
                <div class="bg-blue-50 rounded-lg p-4 border border-blue-200">
                    <div class="text-sm font-medium text-blue-900 mb-1">Budget</div>
                    <div class="text-base text-blue-700">₱1,800 - ₱2,500</div>
                </div>
                <div class="bg-green-50 rounded-lg p-4 border border-green-200">
                    <div class="text-sm font-medium text-green-900 mb-1">Location</div>
                    <div class="text-base text-green-700">Zamboanga City</div>
                </div>
            </div>
        </div>

        <!-- Instructions -->
        <div class="bg-blue-50 rounded-xl p-4 border border-blue-200 mb-6">
            <div class="flex items-start gap-3">
                <span class="material-icons-round text-blue-500 mt-0.5">info</span>
                <div class="flex-1">
                    <div class="text-sm font-medium text-blue-900 mb-1">Select providers to send your request</div>
                    <p class="text-sm text-blue-700">
                        Choose one or more mechanics or shops that you'd like to receive your custom service request. 
                        They will respond with quotes and availability.
                    </p>
                </div>
            </div>
        </div>

        <!-- Tabs -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-1 mb-6">
            <div class="flex">
                <button id="mechanics-tab" class="mobile-tab tab-active flex items-center justify-center gap-2 whitespace-nowrap">
                    <span class="material-icons-round text-sm">handyman</span>
                    <span>Mechanics</span>
                </button>
                <button id="shops-tab" class="mobile-tab tab-inactive flex items-center justify-center gap-2 whitespace-nowrap">
                    <span class="material-icons-round text-sm">build_circle</span>
                    <span>Shops</span>
                </button>
                <button id="all-tab" class="mobile-tab tab-inactive flex items-center justify-center gap-2 whitespace-nowrap">
                    <span class="material-icons-round text-sm">list</span>
                    <span>All</span>
                </button>
            </div>
        </div>

        <!-- Tab Content -->
        <div>
            <!-- Mechanics Tab Content -->
            <div id="mechanics-content" class="mobile-tab-content active">
                <div class="space-y-4">
                    <!-- Mechanic Card 1 -->
                    <div class="provider-card bg-white rounded-xl shadow-sm border border-gray-100 p-4">
                        <div class="flex items-start gap-4">
                            <label class="flex items-start gap-3 flex-1 cursor-pointer">
                                <input type="checkbox" class="custom-checkbox mt-1" value="mike-rodriguez" onchange="updateSelection(this)">
                                <div class="flex-1">
                                    <div class="flex items-center gap-2 mb-1">
                                        <h3 class="font-semibold text-gray-900">Mike Rodriguez</h3>
                                        <span class="bg-gradient-to-r from-yellow-400 to-yellow-600 text-white text-xs px-2 py-0.5 rounded-full">GOLD</span>
                                    </div>
                                    <div class="flex items-center gap-1 mb-2">
                                        <span class="material-icons-round text-yellow-400 text-sm">star</span>
                                        <span class="text-sm font-medium text-gray-700">4.8</span>
                                        <span class="text-xs text-gray-500">(128 reviews)</span>
                                    </div>
                                    <div class="text-xs text-gray-600 flex items-center gap-1 mb-2">
                                        <span class="material-icons-round text-xs">location_on</span>
                                        <span>1.2 km away • Available Today</span>
                                    </div>
                                    <div class="flex flex-wrap gap-1 mb-2">
                                        <span class="bg-orange-100 text-orange-800 text-xs px-2 py-0.5 rounded">Brakes</span>
                                        <span class="bg-orange-100 text-orange-800 text-xs px-2 py-0.5 rounded">Engine</span>
                                        <span class="bg-orange-100 text-orange-800 text-xs px-2 py-0.5 rounded">Diagnostics</span>
                                    </div>
                                    <div class="text-sm text-gray-600">
                                        8 years experience • Mobile Service Available
                                    </div>
                                </div>
                            </label>
                        </div>
                    </div>

                    <!-- Mechanic Card 2 -->
                    <div class="provider-card bg-white rounded-xl shadow-sm border border-gray-100 p-4">
                        <div class="flex items-start gap-4">
                            <label class="flex items-start gap-3 flex-1 cursor-pointer">
                                <input type="checkbox" class="custom-checkbox mt-1" value="sarah-johnson" onchange="updateSelection(this)">
                                <div class="flex-1">
                                    <div class="flex items-center gap-2 mb-1">
                                        <h3 class="font-semibold text-gray-900">Sarah Johnson</h3>
                                        <span class="bg-gradient-to-r from-gray-400 to-gray-600 text-white text-xs px-2 py-0.5 rounded-full">SILVER</span>
                                    </div>
                                    <div class="flex items-center gap-1 mb-2">
                                        <span class="material-icons-round text-yellow-400 text-sm">star</span>
                                        <span class="text-sm font-medium text-gray-700">4.6</span>
                                        <span class="text-xs text-gray-500">(89 reviews)</span>
                                    </div>
                                    <div class="text-xs text-gray-600 flex items-center gap-1 mb-2">
                                        <span class="material-icons-round text-xs">location_on</span>
                                        <span>2.1 km away • Available Tomorrow</span>
                                    </div>
                                    <div class="flex flex-wrap gap-1 mb-2">
                                        <span class="bg-orange-100 text-orange-800 text-xs px-2 py-0.5 rounded">Electrical</span>
                                        <span class="bg-orange-100 text-orange-800 text-xs px-2 py-0.5 rounded">AC Repair</span>
                                        <span class="bg-orange-100 text-orange-800 text-xs px-2 py-0.5 rounded">Wiring</span>
                                    </div>
                                    <div class="text-sm text-gray-600">
                                        5 years experience • Specializes in Electrical Systems
                                    </div>
                                </div>
                            </label>
                        </div>
                    </div>

                    <!-- Mechanic Card 3 -->
                    <div class="provider-card bg-white rounded-xl shadow-sm border border-gray-100 p-4">
                        <div class="flex items-start gap-4">
                            <label class="flex items-start gap-3 flex-1 cursor-pointer">
                                <input type="checkbox" class="custom-checkbox mt-1" value="david-chen" onchange="updateSelection(this)">
                                <div class="flex-1">
                                    <div class="flex items-center gap-2 mb-1">
                                        <h3 class="font-semibold text-gray-900">David Chen</h3>
                                        <span class="bg-gradient-to-r from-yellow-700 to-yellow-900 text-white text-xs px-2 py-0.5 rounded-full">BRONZE</span>
                                    </div>
                                    <div class="flex items-center gap-1 mb-2">
                                        <span class="material-icons-round text-yellow-400 text-sm">star</span>
                                        <span class="text-sm font-medium text-gray-700">4.5</span>
                                        <span class="text-xs text-gray-500">(67 reviews)</span>
                                    </div>
                                    <div class="text-xs text-gray-600 flex items-center gap-1 mb-2">
                                        <span class="material-icons-round text-xs">location_on</span>
                                        <span>3.5 km away • Available Today</span>
                                    </div>
                                    <div class="flex flex-wrap gap-1 mb-2">
                                        <span class="bg-orange-100 text-orange-800 text-xs px-2 py-0.5 rounded">Transmission</span>
                                        <span class="bg-orange-100 text-orange-800 text-xs px-2 py-0.5 rounded">Suspension</span>
                                        <span class="bg-orange-100 text-orange-800 text-xs px-2 py-0.5 rounded">Brakes</span>
                                    </div>
                                    <div class="text-sm text-gray-600">
                                        4 years experience • Workshop Available
                                    </div>
                                </div>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Shops Tab Content -->
            <div id="shops-content" class="mobile-tab-content">
                <div class="space-y-4">
                    <!-- Shop Card 1 -->
                    <div class="provider-card bg-white rounded-xl shadow-sm border border-gray-100 p-4">
                        <div class="flex items-start gap-4">
                            <label class="flex items-start gap-3 flex-1 cursor-pointer">
                                <input type="checkbox" class="custom-checkbox mt-1" value="autocare-pro-shop" onchange="updateSelection(this)">
                                <div class="flex-1">
                                    <div class="flex items-center gap-2 mb-1">
                                        <h3 class="font-semibold text-gray-900">AutoCare Pro Shop</h3>
                                        <span class="bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full font-medium">OPEN</span>
                                    </div>
                                    <div class="flex items-center gap-1 mb-2">
                                        <span class="material-icons-round text-yellow-400 text-sm">star</span>
                                        <span class="text-sm font-medium text-gray-700">4.7</span>
                                        <span class="text-xs text-gray-500">(342 reviews)</span>
                                    </div>
                                    <div class="text-xs text-gray-600 flex items-center gap-1 mb-2">
                                        <span class="material-icons-round text-xs">location_on</span>
                                        <span>1.5 km away • 8:00 AM - 6:00 PM</span>
                                    </div>
                                    <div class="text-sm text-gray-600 mb-2">
                                        Full-service auto repair shop with state-of-the-art equipment
                                    </div>
                                    <div class="flex items-center gap-2 text-xs text-gray-500">
                                        <span class="material-icons-round text-xs">wifi</span>
                                        <span>Free WiFi</span>
                                        <span class="material-icons-round text-xs">local_parking</span>
                                        <span>Parking</span>
                                        <span class="material-icons-round text-xs">local_cafe</span>
                                        <span>Waiting Lounge</span>
                                    </div>
                                </div>
                            </label>
                        </div>
                    </div>

                    <!-- Shop Card 2 -->
                    <div class="provider-card bg-white rounded-xl shadow-sm border border-gray-100 p-4">
                        <div class="flex items-start gap-4">
                            <label class="flex items-start gap-3 flex-1 cursor-pointer">
                                <input type="checkbox" class="custom-checkbox mt-1" value="precision-auto-works" onchange="updateSelection(this)">
                                <div class="flex-1">
                                    <div class="flex items-center gap-2 mb-1">
                                        <h3 class="font-semibold text-gray-900">Precision Auto Works</h3>
                                        <span class="bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full font-medium">OPEN</span>
                                    </div>
                                    <div class="flex items-center gap-1 mb-2">
                                        <span class="material-icons-round text-yellow-400 text-sm">star</span>
                                        <span class="text-sm font-medium text-gray-700">4.5</span>
                                        <span class="text-xs text-gray-500">(187 reviews)</span>
                                    </div>
                                    <div class="text-xs text-gray-600 flex items-center gap-1 mb-2">
                                        <span class="material-icons-round text-xs">location_on</span>
                                        <span>2.8 km away • 8:00 AM - 5:00 PM</span>
                                    </div>
                                    <div class="text-sm text-gray-600 mb-2">
                                        Specializing in European and luxury vehicle service
                                    </div>
                                    <div class="flex items-center gap-2 text-xs text-gray-500">
                                        <span class="material-icons-round text-xs">build_circle</span>
                                        <span>Factory Equipment</span>
                                        <span class="material-icons-round text-xs">engineering</span>
                                        <span>Certified Techs</span>
                                    </div>
                                </div>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- All Tab Content -->
            <div id="all-content" class="mobile-tab-content">
                <div class="space-y-4">
                    <!-- This would combine mechanics and shops from both tabs -->
                    <div class="text-center py-8">
                        <div class="text-gray-400 mb-3">
                            <span class="material-icons-round text-4xl">swap_horiz</span>
                        </div>
                        <p class="text-sm text-gray-500">View all available providers in Mechanics and Shops tabs</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Send Request Button (Sticky Bottom) -->
        <div class="fixed bottom-4 left-4 right-4 bg-white rounded-xl shadow-lg border border-gray-200 p-4">
            <button 
                id="send-request-btn"
                onclick="sendRequests()"
                class="w-full bg-orange-500 text-white px-6 py-4 rounded-xl text-base font-medium hover:bg-orange-600 transition-colors flex items-center justify-center gap-3 shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed"
                disabled
            >
                <span class="material-icons-round text-lg">send</span>
                <span class="font-semibold">Send to <span id="selected-providers-count">0</span> Providers</span>
            </button>
            <div class="text-xs text-gray-500 text-center mt-2">
                Selected providers will receive your custom request and respond with quotes
            </div>
        </div>
    </main>

    <!-- Success Modal -->
    <div id="success-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-2xl p-6 max-w-md w-full mx-4">
            <div class="text-center mb-6">
                <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <span class="material-icons-round text-green-500 text-3xl">check_circle</span>
                </div>
                <h3 class="text-xl font-bold text-gray-900 mb-2">Request Sent!</h3>
                <p class="text-sm text-gray-600">Your custom request has been sent to the selected providers.</p>
            </div>

            <div class="bg-gray-50 rounded-xl p-4 mb-6">
                <div class="text-sm text-gray-600">
                    <div class="font-medium mb-1">Request Details</div>
                    <div class="text-gray-900">
                        <div>Service: Brake System Repair</div>
                        <div>Budget: ₱1,800 - ₱2,500</div>
                        <div>Sent to: <span id="sent-count">0</span> providers</div>
                    </div>
                </div>
            </div>

            <div class="flex gap-3">
                <button
                    onclick="viewPendingRequests()"
                    class="flex-1 bg-orange-500 text-white px-4 py-3 rounded-lg text-sm font-medium hover:bg-orange-600 transition-colors"
                >
                    Track Requests
                </button>
                <button
                    onclick="closeModal()"
                    class="flex-1 bg-gray-200 text-gray-800 px-4 py-3 rounded-lg text-sm font-medium hover:bg-gray-300 transition-colors"
                >
                    Close
                </button>
            </div>
        </div>
    </div>

    <script>
        let selectedProviders = new Set();

        document.addEventListener('DOMContentLoaded', function() {
            // Tab switching functionality
            const mechanicsTab = document.getElementById('mechanics-tab');
            const shopsTab = document.getElementById('shops-tab');
            const allTab = document.getElementById('all-tab');
            
            const mechanicsContent = document.getElementById('mechanics-content');
            const shopsContent = document.getElementById('shops-content');
            const allContent = document.getElementById('all-content');
            
            // Initialize with mechanics tab active
            updateTabDisplay('mechanics');
            
            mechanicsTab.addEventListener('click', () => updateTabDisplay('mechanics'));
            shopsTab.addEventListener('click', () => updateTabDisplay('shops'));
            allTab.addEventListener('click', () => updateTabDisplay('all'));
            
            function updateTabDisplay(selectedTab) {
                // Reset all tabs
                mechanicsTab.classList.remove('tab-active');
                shopsTab.classList.remove('tab-active');
                allTab.classList.remove('tab-active');
                
                mechanicsTab.classList.add('tab-inactive');
                shopsTab.classList.add('tab-inactive');
                allTab.classList.add('tab-inactive');
                
                // Hide all content
                mechanicsContent.classList.remove('active');
                shopsContent.classList.remove('active');
                allContent.classList.remove('active');
                
                // Activate selected tab
                if (selectedTab === 'mechanics') {
                    mechanicsTab.classList.remove('tab-inactive');
                    mechanicsTab.classList.add('tab-active');
                    mechanicsContent.classList.add('active');
                } else if (selectedTab === 'shops') {
                    shopsTab.classList.remove('tab-inactive');
                    shopsTab.classList.add('tab-active');
                    shopsContent.classList.add('active');
                } else if (selectedTab === 'all') {
                    allTab.classList.remove('tab-inactive');
                    allTab.classList.add('tab-active');
                    allContent.classList.add('active');
                }
            }
        });

        function updateSelection(checkbox) {
            const card = checkbox.closest('.provider-card');
            
            if (checkbox.checked) {
                selectedProviders.add(checkbox.value);
                card.classList.add('selected-provider');
            } else {
                selectedProviders.delete(checkbox.value);
                card.classList.remove('selected-provider');
            }
            
            updateSelectionCount();
        }

        function updateSelectionCount() {
            const count = selectedProviders.size;
            document.getElementById('selected-count').textContent = count;
            document.getElementById('selected-providers-count').textContent = count;
            
            const sendButton = document.getElementById('send-request-btn');
            sendButton.disabled = count === 0;
            
            if (count > 0) {
                sendButton.innerHTML = `
                    <span class="material-icons-round text-lg">send</span>
                    <span class="font-semibold">Send to ${count} Provider${count > 1 ? 's' : ''}</span>
                `;
            } else {
                sendButton.innerHTML = `
                    <span class="material-icons-round text-lg">send</span>
                    <span class="font-semibold">Send to 0 Providers</span>
                `;
            }
        }

        function sendRequests() {
            if (selectedProviders.size === 0) {
                alert('Please select at least one provider');
                return;
            }
            
            // Show loading state
            const sendButton = document.getElementById('send-request-btn');
            const originalText = sendButton.innerHTML;
            sendButton.innerHTML = '<span class="material-icons-round animate-spin">refresh</span><span>Sending...</span>';
            sendButton.disabled = true;
            
            // Simulate API call
            setTimeout(() => {
                // Show success modal
                const successModal = document.getElementById('success-modal');
                const sentCount = document.getElementById('sent-count');
                
                sentCount.textContent = selectedProviders.size;
                successModal.classList.remove('hidden');
                
                // Reset button
                sendButton.innerHTML = originalText;
                sendButton.disabled = false;
            }, 2000);
        }

        function viewPendingRequests() {
            // In a real app, this would navigate to pending requests page
            alert('Redirecting to pending requests...');
            setTimeout(() => {
                window.location.href = '../pages/request.html';
            }, 1000);
        }

        function closeModal() {
            document.getElementById('success-modal').classList.add('hidden');
            // Reset selection
            selectedProviders.clear();
            document.querySelectorAll('.custom-checkbox').forEach(checkbox => {
                checkbox.checked = false;
                checkbox.closest('.provider-card').classList.remove('selected-provider');
            });
            updateSelectionCount();
        }
    </script>
</body>
</html>